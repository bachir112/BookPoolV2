@using BookPoolV2.Models
@using Microsoft.AspNet.Identity

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Food Ninja</title>
    <link type="text/css" href="/Content/css/shop/materialize.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" href="/Content/css/shop/styles.css" rel="stylesheet">
    <link type="text/css" href="/Content/css/quantity.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet">
    <link type="text/css" href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    @*<link rel="manifest" href="/manifest.json">*@
    <!-- ios support -->
    <link rel="apple-touch-icon" href="/img/icons/icon-96x96.png">
    <meta name="apple-mobile-web-app-status-bar" content="#FFE1C4">
    <meta name="theme-color" content="#FFE1C4">

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script type="text/javascript" src="/Content/js/shop/materialize.min.js"></script>
    <script src="/Content/js/shop/ui.js"></script>
    <script src="/Content/js/shopui.js"></script>
    <script src="/Content/js/quantity.js"></script>
    <script src="https://kit.fontawesome.com/1afc59ddd6.js" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/11.1.0/nouislider.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/11.1.0/nouislider.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>

    <!--fonts-->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,500,700,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald:400,500,600,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=EB+Garamond:400,400i,500,500i,600,600i,700,700i,800,800i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#FFE1C4" />
    @*<link rel="manifest" href="/manifest.webmanifest" />*@

    <style>
        #side-form {
            z-index: 2147483647 !important
        }

        .media-buttons .btn:hover {
            background-color: #445c8e;
        }

        .media-buttons .btn {
            margin: 0 0.5rem 1rem;
            display: inline-block;
        }

        .media-buttons button i {
            float: left;
            font-size: 19px;
            width: 55px;
            padding: 14px 15px;
            border-right: 1px solid rgba(0,0,0,.2);
        }

        button.facebook {
            background-color: #445c8e;
        }

        .itemslist {
            margin-bottom: 0px;
        }
    </style>

</head>

<body class="white lighten-4">


    <nav id="locationMainHeader" class="z-depth-0 titlenav">
        <div class="nav-wrapper container">
            <div id="locationContainer">
                <a class="sidenav-trigger" style="display:inherit; width:30px; color:var(--primaryRed); cursor:pointer;" data-target="side-form">
                    <i class="material-icons">location_on</i>
                </a>
                <a class="sidenav-trigger" style="display:inherit; margin-left:0px; cursor:pointer;" data-target="side-form">
                    <span style="font-family:AvenirNextBold;">Bachir's Home</span>
                </a>
            </div>
            <div id="goToHomeContainer" style="display:none;">
                <a href="/" class="sidenav-trigger" style="display:inherit; width:30px; color:var(--primaryRed); cursor:pointer;">
                    <i class="material-icons">keyboard_arrow_left</i>
                </a>
                <a href="/" class="sidenav-trigger" style="display:inherit; margin-left:0px; cursor:pointer;">
                    <span style="font-family:AvenirNextBold;">Home</span>
                </a>
            </div>
            <span class="right" style="color: var(--primaryBlue); cursor:pointer;">
                <i style="font-size:30px;" class="material-icons sidenav-trigger" data-target="side-menu">account_circle</i>
            </span>
            <span class="right" style="cursor:pointer; margin-right:20px;">
                <a href="/Checkout">
                    <span id="itemsincartbadge" class="badge itemsincart" style="display:none;">0</span>
                    <i style="font-size:30px; color: var(--primaryGrey);" class="material-icons">shopping_cart</i>
                </a>
            </span>
        </div>
    </nav>

    @Html.Partial("_UsersMenu")

    @Html.Partial("_PartialUsersLocation")


    <script type="text/javascript">

        $(document).ready(function () {
            $('.collapsible').collapsible();
        });

    </script>

    <div id="mainSearchBar" style="background: white;height: 55px;">
        <div class="row searchBar">
            <div class="col s12 m12 l12">
                <div class="sectionnav">
                    <div class="nav-wrapper">
                        <form>
                            <div class="input-field" style="margin-top:5px;">
                                <input id="search" type="search" required placeholder="What are you browsing for?">
                                <label class="label-icon" for="search">
                                    <i class="material-icons" style="color:var(--primaryGrey) !important">search</i>
                                </label>
                                <i class="material-icons" style="color:var(--primaryGrey) !important">close</i>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <div class="content">
        @RenderBody()
    </div>


    <script type="text/javascript">

        $('#mainSearchBar').hide();
        $('#mainSortByFilter').hide();
        $('#locationContainer').hide();
        $('#goToHomeContainer').show();

        $(document).ready(function () {

            //productsSection_active();
            $('#filtersClickableTag').addClass('active');

        });

        $('#paymentMethod').change(function () {

            var paymentMethodID = $('#paymentMethod').find(":selected").val();

            console.log('paymentMethodID = ' + paymentMethodID);
            if (paymentMethodID == 'newCard') {
                $('#newCardDetails').show();
            } else {
                $('#newCardDetails').hide();
            }

        });


    </script>



    <div class="row" style="height:50px; width:100%;">

    </div>

    <div class="row" id="messageFooter">
        <div id="messageFooterContainer">
            <div id="messageFooterContainerLeft">
                <div style="width:100%; height:25px; padding-top:5px;">
                    <span id="itemsInCartFooter" style="color:white; letter-spacing:5px;"></span>
                </div>
                <div style="width:100%; height:25px; padding-top:5px;">
                    <span id="costOfItemsInCartFooter" style="color:white; letter-spacing:5px;">LBP 8500</span>
                </div>
            </div>
            <div id="messageFooterContainerRight">
                <div style="width:100%; height:55px; padding-top:15px; vertical-align:middle; text-align:right;">
                    <span style="color:white;">View Cart <i class="material-icons white-text" style="vertical-align:middle;">play_arrow</i></span>
                </div>
            </div>
        </div>
    </div>

    <div class="navbarFooter" style="box-shadow: 0px 0 10px rgba(0, 0, 0, 0.8);">
        <div id="innerFooterContainer" style="margin:auto;">
            <a id="books-section-navigator" href="@Url.Action("Index","Home")">
                <i class="fa fa-book" aria-hidden="true" style="color: var(--primaryGrey);"></i>
            </a>
            <a id="academic-section-navigator" href="@Url.Action("Index","Academic")">
                <i class="fa fa-university" aria-hidden="true" style="        color: var(--primaryGrey);"></i>
            </a>
        </div>
    </div>

    <script type="text/javascript">

        var stickySearchHeight = 0;
        window.onscroll = function () { stickSearchBars() };

        var searchHeader = document.getElementById("mainSearchBar");
        var stickySearch = searchHeader.offsetTop;

        var sortFilterHeader = document.getElementById("mainSortByFilter");
        var stickySortFilter = sortFilterHeader.offsetTop - stickySearch;

        function stickSearchBars() {

            if (window.pageYOffset > stickySearch) {
                searchHeader.classList.add("stickySearchBar");
            } else {
                searchHeader.classList.remove("stickySearchBar");
            }

            if (window.pageYOffset > stickySortFilter) {
                sortFilterHeader.classList.add("stickySortByFilter");
            } else {
                sortFilterHeader.classList.remove("stickySortByFilter");
            }
        }

        $(document).on('click', '.gotoproduct', function () {
            var bookID = $(this).attr('data-BookID');
            var url = '@Url.Action("Product","Home")?query=@ViewBag.Query' + '&bookID=' + bookID;
            window.location = url;
        });

        $(document).on('click', '.gotouserbooks', function () {
            console.log('Here');
            var shopId = $(this).data('data-shopId');
            var url = '@Url.Action("FilteredByCategory", "Home")';
            window.location = url;
        });

        $(document).on('click', '#messageFooterContainer', function () {
            var shopId = $(this).data('data-shopId');
            var url = '@Url.Action("Index","Checkout")';
            window.location = url;
        });


    </script>
</body>

</html>
